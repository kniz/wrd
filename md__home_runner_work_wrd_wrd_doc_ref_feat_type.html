<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>world-doc: type</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">world-doc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">type </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>worldlang은 타입이 존재한다.</h1>
<h1>type은 worldfrx에 type, ttype&lt;T&gt; 와 같은 컴포넌트로 구현된다.</h1>
<h1>type은 monostate다.</h1>
<h1>type은 C++의 RTTI를 제공한다.</h1>
<ul>
<li>부모 클래스 판단</li>
<li>"is" 메소드가 여기서 구현</li>
</ul>
<h1>type은 메소드콜의 인자의 verification에도 사용된다.</h1>
<h1>type은 nativeType과 mgdType 2종류로 상속된다.</h1>
<h1>mgdType은 origin객체를 반환할 수 있다.</h1>
<h1>aka</h1>
<ul>
<li><p class="startli">식별자의 별칭을 만들 수 있다.</p>
<p class="startli">aka &lt;path&gt; '-&gt;' &lt;alias-id&gt;</p>
</li>
</ul>
<h2>축약 형태</h2>
<pre class="fragment">aka '-&gt;' &lt;path&gt;
</pre><h2>정의와 동시에 aka를 쓰는 경우 문법이 조금 생소할 수 있다.</h2>
<ul>
<li>aka는 앞에 있는 식별자를 최대한 크게 인식하려고 한다.</li>
<li>aka는 다른 expr 안에 들어갈 수 없다. aka가 항상 최종 expr 밖에 있어야 한다.</li>
<li>괄호를 사용하면 최종expr도 중간expr로 변환할 수 있다. 그러므로 aka를 괄호 안에 넣어서 다른 expr에 포함시킬 수 있다.</li>
</ul>
<div class="fragment"><div class="line">aka def person obj() </div>
<div class="line">    aka callback() void -&gt; c</div>
<div class="line">    aka callback(whatever flt) void = null -&gt; c2</div>
<div class="line"> </div>
<div class="line">    aka -&gt; callback(whatever str) void</div>
<div class="line">        doSomething()</div>
<div class="line">        ...</div>
<div class="line">        return aka (lamb,da) str</div>
<div class="line">            ....</div>
<div class="line">            -&gt;l</div>
<div class="line"> </div>
<div class="line">        aka (lamb, da) -&gt; str</div>
<div class="line">            ....</div>
<div class="line">        -&gt;l2</div>
<div class="line"> </div>
<div class="line">        return aka ((labm, da) -&gt; str</div>
<div class="line">            ....</div>
<div class="line">        ) -&gt; l3 // ok.</div>
<div class="line">-&gt; p</div>
</div><!-- fragment --><h1>aka도 expression 이다.</h1>
<h1>type을 정의하면 그것의 unique object가 그 type이름에 대신들어간다.</h1>
<ul>
<li>메소드도 마찬가지다.</li>
</ul>
<h1>type에 대고 생성자를 호출하면 unique obj의 복제가 아니라 type의 복제가 된다.</h1>
<h1>class란 native type 을 의미하며 meta 모듈에 의해 관리된다.</h1>
<h1>meta pack</h1>
<ul>
<li>별도의 기반 모듈로써 native의 reflection을 담당한다.</li>
<li>world에서 제공하는 메타 API의 backend 에 해당한다.</li>
</ul>
<h2>unregister를 지원해야 한다.</h2>
<ul>
<li>C-REPL 지원을 위해서 native 모듈도 붙었다가 떼어졌다가 된다.</li>
<li>따라서 native class 정보 또한 시스템에서 제거될 수 있어야 한다.</li>
</ul>
<h2>타입의 연관정보는 모두 meta 모듈에 의존한다.</h2>
<h2>매크로를 통해서 meta class를 생성할 수 있어야 한다.</h2>
<ul>
<li>이경우 프로그램이 시작하기 전에 자동으로 register를 한다.</li>
<li>unregister는 자동으로 할수 없다.</li>
</ul>
<h2>사용자가 정의한 metaclass 객체를 생성/등록 할 수도 있어야 한다.</h2>
<ul>
<li>상속 기반이 아니라 객체 기반이어야 한다는 것이다.</li>
<li>물론 unregister도 가능해야 한다.</li>
</ul>
<h1>빌트인 타입</h1>
<ul>
<li>인터프리터가 인지하고 있는 타입을 빌트인 타입이라고 한다.</li>
<li>빌트인 타입은 다른 타입과 달리 인터프리터 연관된 이점 및 특징을 가진다.</li>
</ul>
<h2>종류</h2>
<ul>
<li>primitive types: int, str, err, node, void, bool, flt</li>
<li>containers: arr, list, map</li>
</ul>
<h2>빌트인 타입은 native로 편하게 접근할 수 있는 경로 제공되는 mgd object이다.</h2>
<ul>
<li>대부분 native 클래스로써 제공될 것이다. 인터프리터는 이 클래스의 객체를 생성하기만 하면 되므로 편리한 접근방법을 제시한 것이다.</li>
<li>반면, mgd Object라는 것은 일반적인 mgdObject가 가지는 특성을 그대로 가지고 있으며 world시스템 입장에서 봤을때는 이것인 mgdobject인지 native object 인지 구분이 가선 안된다는 것이다.</li>
<li>보통은 Object 클래스에서 상속해 native 클래스를 정의한 뒤, 시스템이 초기화되는 시점에 이 native 클래스들을 초기화화는 queue에 집어넣는 형태로 구현된다.</li>
<li>일반 mgdobject와 구분이 가면 안되기 때문에 엄연히 packd path 가 존재해야 한다.</li>
<li>속도 최적화를 위해서 완전한 일반 mgd object 기반으로 만들지 않는 것이다.</li>
</ul>
<h2>사용성에 있어서도 mgd object와 native object는 차이가 있어서는 안된다.</h2>
<ul>
<li>이를테면 mgd object의 경우 다른 IDE는 source code를 보여주는 창을 띄워줌으로써 해당 타입에 어떠한 메소드들이 있는지를 보게 해준다.</li>
<li>이 예를 기준으로 한다면 native object도 소스코드를 보여주지는 못할지언정 마찬가지로 어떠한 메소드가 있는지를 IDE에서 동일하게 리스트로 보여줄 수는 있어야 한다.</li>
</ul>
<h1>Type.getType() 은 자기 자신이 나와야 한다.</h1>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
